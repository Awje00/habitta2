document.addEventListener("DOMContentLoaded",()=>{const menuLinks=document.querySelectorAll(".menu a");let path=window.location.pathname.split("/").pop();if(!path||path.indexOf(".html")===-1){path="index.html"}
menuLinks.forEach(link=>{link.classList.remove("active");if(link.getAttribute("href")===path){link.classList.add("active")}});let menuToggle=document.getElementById("menu-toggle");let menu=document.getElementById("menu");if(menuToggle&&menu){menuToggle.addEventListener("click",()=>{menu.classList.toggle("active");menuToggle.classList.toggle("active")});document.querySelectorAll(".menu a").forEach(l=>{l.addEventListener("click",()=>{menu.classList.remove("active");if(menuToggle.classList.contains("active")){menuToggle.classList.remove("active")}})})}
let header=document.getElementById("header");let scrollHeader=()=>{if(window.scrollY>50){header.classList.add("scrolled")}else{header.classList.remove("scrolled")}};window.addEventListener("scroll",scrollHeader);let scrollAnim=()=>{let triggerBottom=window.innerHeight*0.85;let animados=document.querySelectorAll(".animar");animados.forEach(el=>{if(el.getBoundingClientRect().top<triggerBottom){el.classList.add("visivel")}});let reveals=document.querySelectorAll(".reveal");reveals.forEach(el=>{if(el.getBoundingClientRect().top<triggerBottom){el.classList.add("active")}})};window.addEventListener("scroll",scrollAnim);scrollAnim();let accordions=document.querySelectorAll(".accordion-btn");if(accordions.length>0){accordions.forEach(btn=>{btn.addEventListener("click",()=>{let active=document.querySelector(".accordion-btn.active");if(active&&active!==btn){active.classList.remove("active");active.nextElementSibling.style.maxHeight="0"}
btn.classList.toggle("active");let panel=btn.nextElementSibling;if(btn.classList.contains("active")){panel.style.maxHeight=panel.scrollHeight+"px"}else{panel.style.maxHeight="0"}})})}})